{
  "rules": {
    "ranking": {
      ".read": true,
      "$rankingEntry": {
        ".write": "!data.exists() || (newData.child('userId').val() === data.child('userId').val())",
        ".validate": "newData.hasChildren(['name', 'comum', 'score', 'time', 'userId']) && newData.child('name').isString() && newData.child('name').val().length <= 50 && newData.child('name').val().length > 0 && newData.child('comum').isString() && newData.child('comum').val().length <= 50 && newData.child('comum').val().length > 0 && newData.child('userId').isString() && newData.child('userId').val().length <= 50 && newData.child('userId').val().length > 0 && newData.child('score').isNumber() && newData.child('score').val() >= 0 && newData.child('score').val() <= 10 && newData.child('time').isNumber() && newData.child('time').val() >= 0"
      }
    },
    "status": {
      ".read": true,
      "$uid": {
        ".write": "newData.child('userId').val() === $uid && (!data.exists() || data.child('userId').val() === $uid)",
        ".validate": "newData.hasChildren(['online', 'last_seen', 'name', 'comum', 'userId']) && newData.child('online').isBoolean() && newData.child('last_seen').isNumber() && newData.child('name').isString() && newData.child('name').val().length <= 50 && newData.child('name').val().length > 0 && newData.child('comum').isString() && newData.child('comum').val().length <= 50 && newData.child('comum').val().length > 0 && newData.child('userId').isString() && newData.child('userId').val().length <= 50 && newData.child('userId').val().length > 0 && newData.child('userId').val() === $uid"
      }
    }
  }
}
